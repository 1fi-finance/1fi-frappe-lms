# =============================================================================
# Frappe Lending - Environment Configuration
# =============================================================================
# Copy this file to .env and update values before deployment
# For Coolify: Add these as environment variables in your service configuration

# =============================================================================
# Site Configuration
# =============================================================================
# Site name (also used as the URL if not using custom domain)
SITE_NAME=lending.localhost

# Admin password for the Administrator user
ADMIN_PASSWORD=your_secure_admin_password

# Your domain name (for Traefik/Coolify routing)
DOMAIN=lending.yourdomain.com

# Developer mode (0 for production, 1 for development)
DEVELOPER_MODE=0

# =============================================================================
# Database Configuration
# =============================================================================
# Option 1: Use DATABASE_URL (recommended for external databases)
# Format: postgres://user:password@host:port/database
# Example for Coolify-managed PostgreSQL:
DATABASE_URL=postgres://postgres:your_password@db_host:5432/lending

# Option 2: Individual database variables (used if DATABASE_URL is not set)
DB_TYPE=postgres
DB_HOST=db
DB_PORT=5432
DB_NAME=lending
DB_USER=postgres
DB_PASSWORD=frappe_password
DB_ROOT_USER=postgres
DB_ROOT_PASSWORD=frappe_password

# Expose database port to host (optional, for debugging)
DB_EXPOSE_PORT=5432

# =============================================================================
# Redis Configuration
# =============================================================================
# Redis is required for Frappe (caching, background jobs, real-time updates)
# If using external Redis, update these values
REDIS_CACHE_HOST=redis
REDIS_CACHE_PORT=6379
REDIS_QUEUE_HOST=redis
REDIS_QUEUE_PORT=6379
REDIS_SOCKETIO_HOST=redis
REDIS_SOCKETIO_PORT=6379

# Expose Redis port to host (optional, for debugging)
REDIS_EXPOSE_PORT=6379

# =============================================================================
# Application Ports
# =============================================================================
# Frappe web server port
FRAPPE_PORT=8000

# SocketIO port (for real-time updates)
SOCKETIO_PORT=9000

# =============================================================================
# Feature Toggles
# =============================================================================
# Enable SocketIO for real-time updates (true/false)
ENABLE_SOCKETIO=true

# =============================================================================
# Frappe/ERPNext Version (for building)
# =============================================================================
# These are used during Docker build, not runtime
# FRAPPE_BRANCH=version-15
# ERPNEXT_BRANCH=version-15
# PAYMENTS_BRANCH=version-15
# PYTHON_VERSION=3.11
# NODE_VERSION=18

# =============================================================================
# Notes for Coolify Deployment
# =============================================================================
# 1. In Coolify, add these as Environment Variables in your service settings
# 2. Make sure to set DOMAIN to your actual domain
# 3. If using Coolify's managed PostgreSQL:
#    - Create a PostgreSQL database in Coolify
#    - Copy the connection string to DATABASE_URL
#    - Remove or comment out the db service in docker-compose.yml
# 4. Redis is typically deployed alongside the app (included in compose file)
# 5. Persistent volumes are important - ensure Coolify preserves them:
#    - frappe-sites: Contains all site data, configurations, and files
#    - frappe-logs: Application logs
#    - postgres-data: Database files (if using local PostgreSQL)
#    - redis-data: Redis persistence
